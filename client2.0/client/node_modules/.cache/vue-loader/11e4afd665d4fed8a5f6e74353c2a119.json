{"remainingRequest":"E:\\Government\\client2.0\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Government\\client2.0\\client\\src\\views\\chart4.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"E:\\Government\\client2.0\\client\\src\\views\\chart4.vue","mtime":1575611374509},{"path":"E:\\Government\\client2.0\\client\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Government\\client2.0\\client\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\Government\\client2.0\\client\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\Government\\client2.0\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Government\\client2.0\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnRvdGFsewogIHBhZGRpbmc6IDA7CiAgLypiYWNrZ3JvdW5kLWltYWdlOiB1cmwoLi4vYXNzZXRzL2JnMS5qcGcpOyovCiAgLypiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOyovCiAgLypiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OyovCiAgcG9zaXRpb246IGNlbnRlcjsKfQo="},{"version":3,"sources":["chart4.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2cA;AACA;AACA;AACA;AACA;AACA;AACA","file":"chart4.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"total\">\n      <div class=\"charts\">\n        <br><br>\n        <div id=\"chart4\" :style=\"{width:'1170px',height:'450px'}\"></div>\n      </div>\n    <div class=\"select-box\" :style=\"{width:'1170px',height:'100px'}\">\n\n    <span><br>时间范围选择: &#12288</span>\n    <span >\n      <span class=\"item\" >\n        <select v-model=\"formData1.year1\">\n          <option v-for=\"item in year1\" :value=\"item\">{{item}}年</option>\n        </select>\n      </span>\n      <span class=\"item\" @change=\"getDay1\">\n        <select  v-model=\"formData1.month1\">\n          <option v-for=\"item in month1\" :value=\"item\">{{item}}月</option>\n        </select>\n      </span>\n      <span class=\"item\">\n        <select  v-model=\"formData1.day1\" >\n          <option v-for=\"item in day1\" :value=\"item\">{{item}}日</option>\n        </select>\n      </span>\n    </span>\n     <span> —— </span>\n<!--    <div><a class=\"btn-submit btn-submit-s\" @click=\"submit\"></a></div>-->\n  <span>\n      <span class=\"item\">\n        <select v-model=\"formData2.year2\">\n          <option v-for=\"item in year2\" :value=\"item\">{{item}}年</option>\n        </select>\n      </span>\n      <span class=\"item\" @change=\"getDay2\">\n        <select  v-model=\"formData2.month2\">\n          <option v-for=\"item in month2\" :value=\"item\">{{item}}月</option>\n        </select>\n      </span>\n      <span class=\"item\">\n        <select  v-model=\"formData2.day2\" >\n          <option v-for=\"item in day2\" :value=\"item\">{{item}}日</option>\n        </select>\n      </span>\n    </span>\n  <span>&#12288 &#12288</span>\n<!--    <el-botton @click=\"submit\" type=\"success\" size=\"mini\">提交</el-botton>-->\n    <input type='button' @click=\"getdata_chart4\" style=\"width:40px;height:20px;border-radius:15%;border: solid 1px;background: #9e9e9e\" value=\"确定\">\n\n  </div>\n\n</div>\n</template>\n\n<script>\n  import axios from 'axios';\n    export default {\n        name: \"chart1\",\n        data(){\n            return{\n                year1:[],\n        month1:[],\n        day1:[],\n        formData1:{\n        year1:2018,\n        month1:10,\n        day1:30},\n        year2:[],\n        month2:[],\n        day2:[],\n        formData2:{\n        year2:2018,\n        month2:10,\n        day2:30},\n        datalist:[],\n        record:[],\n        days:[\"2018-10-30\",\"2018-10-30\",true],\n        intervalid:[],\n        rad:[['0%','0%'],['0%','0%'],['0%','0%']],\n        radbefore:[['0%','0%'],['0%','0%'],['0%','0%']],\n            }},\n        created(){\n            this.init();\n            this.getdata_chart4();\n            /*this.intervalid = setInterval(() => {\n          this.getdata_chart4()\n                console.log(this.rad)\n        }, 2000);*/\n        },\n    beforeDestroy () {\n            //console.log(this.intervalid)\n      clearInterval(this.intervalid)\n    },\n\nmethods: {\n\t\tinit(){\n\t\t  this.getYear1();\n\t\t  this.getMonth1();\n\t\t  this.getDay1();\n\t\t  this.getYear2();\n\t\t  this.getMonth2();\n\t\t  this.getDay2();\n\t\t},\n\t\tgetYear1(){//获取年\n\t\t  let date = new Date;\n\t\t  let current_year = date.getFullYear();\n\t\t  for (let i = 0; i < 10; i++) {\n\t\t    let y = current_year - i;\n\t\t\tthis.year1.push(y);\n\t\t  }\n\t\t},\n\t\tgetMonth1(){//获取月\n\t\t  for (let i = 1; i < 13; i++) {\n\t\t\tthis.month1.push(i);\n\t\t  }\n\t\t},\n\t\tgetDay1(){//获取日\n\t\t  this.day1 = [];\n\t\t  let day = this.getDaysInMonth1(this.formData1.year1, this.formData1.month1)\n\t\t  for (let i = 1; i <= day ; i++) {\n\t\t      this.day1.push(i);\n\t\t  }\n\t\t},\n    getYear2(){//获取年\n\t\t  let date = new Date;\n\t\t  let current_year = date.getFullYear();\n\t\t  for (let i = 0; i < 10; i++) {\n\t\t    let y = current_year - i;\n\t\t\tthis.year2.push(y);\n\t\t  }\n\t\t},\n\t\tgetMonth2(){//获取月\n\t\t  for (let i = 1; i < 13; i++) {\n\t\t\tthis.month2.push(i);\n\t\t  }\n\t\t},\n\t\tgetDay2(){//获取日\n\t\t  this.day2 = [];\n\t\t  let day = this.getDaysInMonth2(this.formData2.year2, this.formData2.month2)\n\t\t  for (let i = 1; i <= day ; i++) {\n\t\t      this.day2.push(i);\n\t\t  }\n\t\t},\n\n\t\tgetDaysInMonth1(year, month) {//获取某个月的天数\n\t          month = parseInt(month, 10);\n\t\t  let d = new Date(year, month, 0);\n\t\t  return d.getDate();\n\t\t},\n    getDaysInMonth2(year, month) {//获取某个月的天数\n\t          month = parseInt(month, 10);\n\t\t  let d = new Date(year, month, 0);\n\t\t  return d.getDate();\n\t\t},\n    padding0(num, length) {//数字前填充0方法\n\t\t   for(let len = (num + \"\").length; len < length; len = num.length) {\n\t\t\t  num = \"0\" + num;\n\t\t   }\n\t\t   return num;\n\t\t},\n    submit(){\n\t\t    let day1 = this.formData1.year1 +\"-\" + this.padding0(this.formData1.month1,2) +\"-\" + this.padding0(this.formData1.day1,2);\n            let day2 = this.formData2.year2 +\"-\" + this.padding0(this.formData2.month2,2) +\"-\" + this.padding0(this.formData2.day2,2);\n            let cur_date = new Date();\n            if(new Date(day1)>new Date(day2))\n            {\n                this.days = [day1,day2,false];\n                this.$message({\n                    message:\"请选择正确的年月日\",\n                    type:\"error\"\n                })\n                return;\n            }\n            else\n            {\n                this.days = [day1,day2,true];\n            }\n    },\n          getdata_chart4(){\n                let that = this;\n                this.submit();\n                    if(this.days[2])\n                    {\n                        axios.get('http://127.0.0.1:5000/api/getdata_chart4',{\n                            params: {\n                                day1:this.days[0],\n                                day2:this.days[1]}\n                        })\n                          .then(function(res){\n                           that.datalist = res;\n                           that.drawECharts();\n                           })\n                    //websocket\n\n                     }\n          },\n\n\n    drawECharts(){\n\t\t    var myChart = this.$echarts.init(document.getElementById(\"chart4\"))\n        var option = {}\n        option ={\n\t\t        title:{text:\"可视化分析——结办分析\",\n                      x:'center',\n                      textStyle:{ //设置主标题风格\n                      color:'#fff3ae',\n                      fontSize: 30,\n                      Height:50},//设置主标题字体颜色\n                        textAlign: null,\n                      padding:5},\n    tooltip: {\n        trigger: 'item',\n        formatter: \"{a} <br/>{b}: {c} ({d}%)\"\n    },\n    legend: [\n        {\n        orient: 'vertical',\n        x: '8%',\n        top:'middle',\n        data:\n            [\n                {name:'待结办',icon: 'circle',textStyle: {color: '#d2ffe4'}},\n                {name:'超期结办',icon: 'circle',textStyle: {color: '#d2ffe4'}},\n                {name:'按期结办',icon: 'circle',textStyle: {color: '#d2ffe4'}},\n            ],\n        },\n        {\n        orient: 'vertical',\n        x: '15%',\n        top:'middle',\n        data:\n            [\n                {name:'市容环卫',icon: 'circle',textStyle: {color: '#d2ffe4'}},\n                {name:'环保水务',icon: 'circle',textStyle: {color: '#d2ffe4'}},\n                {name:'市政设施',icon: 'circle',textStyle: {color: '#d2ffe4'}},\n                {name:'规土城建',icon: 'circle',textStyle: {color: '#d2ffe4'}},\n                {name:'教育卫生',icon: 'circle',textStyle: {color: '#d2ffe4'}},\n                {name:'安全隐患',icon: 'circle',textStyle: {color: '#d2ffe4'}},\n                {name:'组织人事',icon: 'circle',textStyle: {color: '#d2ffe4'}},\n                {name:'党纪政纪',icon: 'circle',textStyle: {color: '#d2ffe4'}},\n                {name:'劳动社保',icon: 'circle',textStyle: {color: '#d2ffe4'}},\n                {name:'社区管理',icon: 'circle',textStyle: {color: '#d2ffe4'}},\n                {name:'交通运输',icon: 'circle',textStyle: {color: '#d2ffe4'}},\n                {name:'治安维稳',icon: 'circle',textStyle: {color: '#d2ffe4'}},\n                {name:'专业事件采集',icon: 'circle',textStyle: {color: '#d2ffe4'}},\n                {name:'统一战线',icon: 'circle',textStyle: {color: '#d2ffe4'}},\n                {name:'民政服务',icon: 'circle',textStyle: {color: '#d2ffe4'}},\n                {name:'文体旅游',icon: 'circle',textStyle: {color: '#d2ffe4'}},\n                {name:'食药市监',icon: 'circle',textStyle: {color: '#d2ffe4'}},\n                {name:'党建群团',icon: 'circle',textStyle: {color: '#d2ffe4'}},\n            ],\n        },\n    ],\n    series: [\n        {\n            name:'总',\n            type:'pie',\n            avoidLabelOverlap:true,\n            selectedMode: 'single',\n            radius: [0, '40%'],\n            center:['50%','60%'],\n            label: {\n                normal: {\n                    position: 'inner'\n                }\n            },\n            labelLine: {\n                normal: {\n                    show: false\n                }\n            },\n            data:this.datalist[0]\n        },\n        {\n            name:'待结办',\n            type:'pie',\n            minAngle:3,\n            avoidLabelOverlap:true,\n            center:['50%','60%'],\n            radius: ['0%','0%'],\n            label: {\n                normal: {\n                    show:false,\n                    position:'outside',\n                    formatter: ' {d}%  ',\n                    backgroundColor: '#fff',\n                    borderColor: '#fff',\n                    borderWidth: 1,\n                    borderRadius: 4,\n\n                    rich: {\n                        a: {\n                            color: '#999',\n                            lineHeight: 22,\n                            align: 'center'\n                        },\n                        hr: {\n                            borderColor: '#aaa',\n                            width: '100%',\n                            borderWidth: 0.5,\n                            height: 0\n                        },\n                        b: {\n                            fontSize: 16,\n                            lineHeight: 33\n                        },\n                        per: {\n                            color: '#eee',\n                            backgroundColor: '#334455',\n                            padding: [2, 4],\n                            borderRadius: 2\n                        }\n                    }\n                }\n            },\n            data:this.datalist[1]\n        },\n        {\n            name:'按期结办',\n            type:'pie',\n            minAngle:3,\n            avoidLabelOverlap:true,\n            center:['50%','60%'],\n            radius: ['0%','0%'],\n            label: {\n                normal: {\n                    show:false,\n                    position:'outside',\n                    formatter: ' {d}%  ',\n                    backgroundColor: '#fff',\n                    borderColor: '#fff',\n                    borderWidth: 1,\n                    borderRadius: 4,\n\n                    rich: {\n                        a: {\n                            color: '#999',\n                            lineHeight: 22,\n                            align: 'center'\n                        },\n                        hr: {\n                            borderColor: '#aaa',\n                            width: '100%',\n                            borderWidth: 0.5,\n                            height: 0\n                        },\n                        b: {\n                            fontSize: 16,\n                            lineHeight: 33\n                        },\n                        per: {\n                            color: '#eee',\n                            backgroundColor: '#334455',\n                            padding: [2, 4],\n                            borderRadius: 2\n                        }\n                    }\n                }\n            },\n            data:this.datalist[2]\n        }, {\n            name:'超期结办',\n            type:'pie',\n            minAngle:3,\n            avoidLabelOverlap:true,\n            center:['50%','60%'],\n            radius: ['0%','0%'],\n            label: {\n                normal: {\n                    show:false,\n                    position:'outside',\n                    formatter: ' {d}%  ',\n                    backgroundColor: '#fff',\n                    borderColor: '#fff',\n                    borderWidth: 1,\n                    borderRadius: 4,\n                    // shadowBlur:3,\n                    // shadowOffsetX: 2,\n                    // shadowOffsetY: 2,\n                    // shadowColor: '#999',\n                    // padding: [0, 7],\n                    rich: {\n                        a: {\n                            color: '#999',\n                            lineHeight: 22,\n                            align: 'center'\n                        },\n                        // abg: {\n                        //     backgroundColor: '#333',\n                        //     width: '100%',\n                        //     align: 'right',\n                        //     height: 22,\n                        //     borderRadius: [4, 4, 0, 0]\n                        // },\n                        hr: {\n                            borderColor: '#aaa',\n                            width: '100%',\n                            borderWidth: 0.5,\n                            height: 0\n                        },\n                        b: {\n                            fontSize: 16,\n                            lineHeight: 33\n                        },\n                        per: {\n                            color: '#eee',\n                            backgroundColor: '#334455',\n                            padding: [2, 4],\n                            borderRadius: 2\n                        }\n                    }\n                }\n            },\n            data:this.datalist[3]\n        },\n\n    ]\n},\n        myChart.setOption(option)\n        myChart.on('click', function (params){\n\t\t       // alert(\"饼图点击事件\");\n\t\t        //window.open('https://www.baidu.com/s?wd=' + encodeURIComponent(params.name));\n            if(params.name=='待结办')\n            {\n                option.series[1].radius=['60%','75%'];\n                option.series[2].radius=['0%','0%'];\n                option.series[3].radius=['0%','0%'];\n                option.series[1].label.normal.show=true;\n                option.series[2].label.normal.show=false;\n                option.series[3].label.normal.show=false;\n            }\n            else if(params.name=='按期结办'){\n                option.series[1].radius=['0%','0%'];\n                option.series[2].radius=['60%','75%'];\n                option.series[3].radius=['0%','0%'];\n                option.series[1].label.normal.show=false;\n                option.series[2].label.normal.show=true;\n                option.series[3].label.normal.show=false;\n            }\n            else if(params.name=='超期结办'){\n                option.series[1].radius=['0%','0%'];\n                option.series[2].radius=['0%','0%'];\n                option.series[3].radius=['60%','75%'];\n                option.series[1].label.normal.show=false;\n                option.series[2].label.normal.show=false;\n                option.series[3].label.normal.show=true;\n            }\n\n            myChart.setOption(option)\n        })\n\n\n   },\n},\n\n    }\n</script>\n\n<style>\n  .total{\n    padding: 0;\n    /*background-image: url(../assets/bg1.jpg);*/\n    /*background-size: cover;*/\n    /*background-repeat: no-repeat;*/\n    position: center;\n  }\n</style>\n"]}]}