{"remainingRequest":"E:\\Government\\client2.0\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Government\\client2.0\\client\\src\\views\\chart1.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"E:\\Government\\client2.0\\client\\src\\views\\chart1.vue","mtime":1573720062740},{"path":"E:\\Government\\client2.0\\client\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Government\\client2.0\\client\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\Government\\client2.0\\client\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\Government\\client2.0\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Government\\client2.0\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi50b3RhbHsKICAvKmJhY2tncm91bmQ6ICNkMmZmZTQ7Ki8KICBwYWRkaW5nOiAwOwogIGJhY2tncm91bmQtaW1hZ2U6IHVybCguLi9hc3NldHMvYmcucG5nKTsKICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOwogIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7CiAgY29sb3I6I2ZmZmZmZjsKICBwb3NpdGlvbjogY2VudGVyOwp9Cg=="},{"version":3,"sources":["chart1.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"chart1.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"total\">\r\n      <div class=\"charts\">\r\n        <br><br>\r\n        <div id=\"chart1\" :style=\"{width:'1170px',height:'370px'}\"></div>\r\n      </div>\r\n    <div class=\"select-box\" :style=\"{width:'1170px',height:'100px'}\">\r\n\r\n    <span><br><br>时间范围选择: &#12288</span>\r\n    <span >\r\n      <span class=\"item\" >\r\n        <select v-model=\"formData1.year1\">\r\n          <option v-for=\"item in year1\" :value=\"item\">{{item}}年</option>\r\n        </select>\r\n      </span>\r\n      <span class=\"item\" @change=\"getDay1\">\r\n        <select  v-model=\"formData1.month1\">\r\n          <option v-for=\"item in month1\" :value=\"item\">{{item}}月</option>\r\n        </select>\r\n      </span>\r\n      <span class=\"item\">\r\n        <select  v-model=\"formData1.day1\" >\r\n          <option v-for=\"item in day1\" :value=\"item\">{{item}}日</option>\r\n        </select>\r\n      </span>\r\n    </span>\r\n     <span> —— </span>\r\n<!--    <div><a class=\"btn-submit btn-submit-s\" @click=\"submit\"></a></div>-->\r\n  <span>\r\n      <span class=\"item\">\r\n        <select v-model=\"formData2.year2\">\r\n          <option v-for=\"item in year2\" :value=\"item\">{{item}}年</option>\r\n        </select>\r\n      </span>\r\n      <span class=\"item\" @change=\"getDay2\">\r\n        <select  v-model=\"formData2.month2\">\r\n          <option v-for=\"item in month2\" :value=\"item\">{{item}}月</option>\r\n        </select>\r\n      </span>\r\n      <span class=\"item\">\r\n        <select  v-model=\"formData2.day2\" >\r\n          <option v-for=\"item in day2\" :value=\"item\">{{item}}日</option>\r\n        </select>\r\n      </span>\r\n    </span>\r\n  <span>&#12288 &#12288</span>\r\n<!--    <el-botton @click=\"submit\" type=\"success\" size=\"mini\">提交</el-botton>-->\r\n    <input type='button' @click=\"getdata_chart1\" style=\"width:40px;height:20px;border-radius:15%;border: solid 1px;background: #9e9e9e\" value=\"确定\">\r\n\r\n  </div>\r\n\r\n</div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n        data(){\r\n            return{\r\n\r\n              year1:[],\r\n              month1:[],\r\n              day1:[],\r\n              formData1:{\r\n              year1:2018,\r\n              month1:10,\r\n              day1:30},\r\n              year2:[],\r\n              month2:[],\r\n              day2:[],\r\n              formData2:{\r\n              year2:2018,\r\n              month2:10,\r\n              day2:30},\r\n                datalist:[]\r\n                }\r\n        },\r\n        mounted(){\r\n            this.init();\r\n            this.getdata_chart1();\r\n            // this.drawECharts();\r\n        },\r\n    methods:{\r\n        init(){\r\n          this.getYear1();\r\n          this.getMonth1();\r\n          this.getDay1();\r\n          this.getYear2();\r\n          this.getMonth2();\r\n          this.getDay2();\r\n\r\n        },\r\n        getYear1(){//获取年\r\n          let date = new Date;\r\n          let current_year = date.getFullYear();\r\n          for (let i = 0; i < 10; i++) {\r\n            let y = current_year - i;\r\n          this.year1.push(y);\r\n          }\r\n        },\r\n        getMonth1(){//获取月\r\n          for (let i = 1; i < 13; i++) {\r\n          this.month1.push(i);\r\n          }\r\n        },\r\n        getDay1(){//获取日\r\n          this.day1 = [];\r\n          let day = this.getDaysInMonth1(this.formData1.year1, this.formData1.month1)\r\n          for (let i = 1; i <= day ; i++) {\r\n              this.day1.push(i);\r\n          }\r\n        },\r\n        getYear2(){//获取年\r\n          let date = new Date;\r\n          let current_year = date.getFullYear();\r\n          for (let i = 0; i < 10; i++) {\r\n            let y = current_year - i;\r\n          this.year2.push(y);\r\n          }\r\n        },\r\n        getMonth2(){//获取月\r\n          for (let i = 1; i < 13; i++) {\r\n          this.month2.push(i);\r\n          }\r\n        },\r\n        getDay2(){//获取日\r\n          this.day2 = [];\r\n          let day = this.getDaysInMonth2(this.formData2.year2, this.formData2.month2)\r\n          for (let i = 1; i <= day ; i++) {\r\n              this.day2.push(i);\r\n          }\r\n        },\r\n        getDaysInMonth1(year, month) {//获取某个月的天数\r\n                month = parseInt(month, 10);\r\n          let d = new Date(year, month, 0);\r\n          return d.getDate();\r\n        },\r\n        getDaysInMonth2(year, month) {//获取某个月的天数\r\n              month = parseInt(month, 10);\r\n        let d = new Date(year, month, 0);\r\n        return d.getDate();\r\n\r\n      },\r\n        padding0(num, length) {//数字前填充0方法\r\n         for(let len = (num + \"\").length; len < length; len = num.length) {\r\n          num = \"0\" + num;\r\n         }\r\n         return num;\r\n      },\r\n        submit(){//提交\r\n            let day1 = this.formData1.year1 +\"-\" + this.padding0(this.formData1.month1,2) +\"-\" + this.padding0(this.formData1.day1,2);\r\n            let day2 = this.formData2.year2 +\"-\" + this.padding0(this.formData2.month2,2) +\"-\" + this.padding0(this.formData2.day2,2);\r\n            let cur_date = new Date();\r\n            let days;\r\n            if(new Date(day1)>new Date(day2))\r\n            {\r\n                days = [day1,day2,false];\r\n                alert(\"请选择小于今天的年月日\");\r\n                return;\r\n            }\r\n            else\r\n            {\r\n                days = [day1,day2,true];\r\n            }\r\n            console.log(day1);\r\n            return days;\r\n\r\n      console.log(day1);//birthday就是得到的最终的日期，格式为2019-01-01\r\n\r\n      },\r\n         getdata_chart1(){\r\n                let that = this;\r\n                let days = this.submit();\r\n                console.log(days);\r\n                if(days[2])\r\n                {\r\n                    axios.post('http://127.0.0.1:5000/api/getdata_chart1',[days[0],days[1]])\r\n                        .then(function(res){\r\n                         console.log(res);\r\n                         that.datalist = res;\r\n                             that.drawECharts();\r\n                })\r\n\r\n            //console.log(datalist)\r\n                    //websocket\r\n        }},\r\n            drawECharts(){\r\n                // temp 是我们的自定义样式，上面安装Echarts时有介绍\r\n                var myChart = this.$echarts.init(document.getElementById(\"chart1\"))\r\n                var option = {}\r\n                option = {\r\n                  title:{\r\n                      text:\"可视化分析——民生分析\",\r\n                      x:'center',\r\n                      textStyle:{ //设置主标题风格\r\n                      color:'#fff3ae',\r\n                      fontSize: 40,\r\n                      Height:50},//设置主标题字体颜色\r\n                        textAlign: null,\r\n                      padding:0\r\n                  },\r\n                    tooltip: {\r\n                        trigger: 'item',\r\n                        formatter: \"{b}: {c} ({d}%)\"\r\n                    },\r\n                    legend: {\r\n                        orient: 'vertical',\r\n                        x: '70%',\r\n                        data:\r\n                        [\r\n                            {name:'投诉',icon: 'circle',textStyle: {color: '#d2ffe4'}},\r\n                            {name:'感谢',icon: 'circle',textStyle: {color: '#d2ffe4'}},\r\n                            {name:'建议',icon: 'circle',textStyle: {color: '#d2ffe4'}},\r\n                            {name:'求决',icon: 'circle',textStyle: {color: '#d2ffe4'}},\r\n                            {name:'咨询',icon: 'circle',textStyle: {color: '#d2ffe4'}},\r\n                            {name:'其他',icon: 'circle',textStyle: {color: '#d2ffe4'}},\r\n                        ],\r\n                        itemHeight:70,\r\n                        top:'middle',\r\n\r\n                    },\r\n                    series: [\r\n                        {\r\n                            name:'访问来源',\r\n                            type:'pie',\r\n                            radius: ['0%', '65%'],\r\n                            center:['50%','60%'],\r\n                            avoidLabelOverlap: false,\r\n                            label: {\r\n                                normal: {\r\n                                    show: true,\r\n                                    position: 'outside',\r\n                                    color:'white',\r\n                                    formatter: \"{d}%\"\r\n                                },\r\n                                emphasis: {\r\n                                    show: false,\r\n                                    textStyle: {\r\n                                        fontSize: '30',\r\n                                        fontWeight: 'bold'\r\n                                    }\r\n                                }\r\n                            },\r\n                            labelLine: {\r\n                                normal: {\r\n                                    show: true\r\n                                }\r\n                            },\r\n                            data:\r\n                                //this.getdata_chart1(),\r\n                                this.datalist,\r\n                                //this.submit(),\r\n                                //this.getdata_chart1(this.submit()),\r\n                                /*[\r\n                                {value:335, name:'投诉'},\r\n                                {value:310, name:'感谢'},\r\n                                {value:234, name:'建议'},\r\n                                {value:135, name:'求决'},\r\n                                {value:15, name:'咨询'},\r\n                                {value:5, name:'其他'},\r\n                            ],*/\r\n                            itemStyle: {\r\n                                emphasis: {\r\n                                    shadowBlur: 10,\r\n                                    shadowOffsetX: 0,\r\n                                    shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n                                }\r\n                            }\r\n                             //\r\n                        }\r\n                    ],\r\n\r\n                  color:[\r\n                    'rgb(28,195,204)',\r\n                    'rgb(82,32,204)',\r\n                    'rgb(79,208,254)',\r\n                    'rgb(108,109,141)',\r\n                    'rgb(76,141,121)',\r\n                    'rgb(43,141,33)',]\r\n\r\n                }\r\n                 // 执行渲染图形和数据的操作\r\n                    myChart.setOption(option)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n</script>\r\n<style>\r\n  .total{\r\n    /*background: #d2ffe4;*/\r\n    padding: 0;\r\n    background-image: url(../assets/bg.png);\r\n    background-size: cover;\r\n    background-repeat: no-repeat;\r\n    color:#ffffff;\r\n    position: center;\r\n  }\r\n</style>\r\n"]}]}