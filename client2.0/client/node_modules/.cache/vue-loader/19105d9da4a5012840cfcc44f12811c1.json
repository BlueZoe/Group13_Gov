{"remainingRequest":"E:\\Government\\client2.0\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Government\\client2.0\\client\\src\\views\\Login.vue?vue&type=style&index=0&id=26084dc2&lang=scss&scoped=true&","dependencies":[{"path":"E:\\Government\\client2.0\\client\\src\\views\\Login.vue","mtime":1575538423411},{"path":"E:\\Government\\client2.0\\client\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Government\\client2.0\\client\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\Government\\client2.0\\client\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\Government\\client2.0\\client\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Government\\client2.0\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Government\\client2.0\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5pZGVudGlmeWJveHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuOwogIG1hcmdpbi10b3A6IDdweDsKfQoubG9naW5fd3JhcCB7CiAgd2lkdGg6IDEwMHZ3OwogIGhlaWdodDogMTAwdmg7CiAgYmFja2dyb3VuZC1jb2xvcjogIzZlNzA3MGZhOwogIGJhY2tncm91bmQtaW1hZ2U6IHVybCguLi9hc3NldHMvYmcxLnBuZyk7Ly8g5q2k5aSE5Li655m75b2V6aG16Z2i6IOM5pmv5Zu+CiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsKICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OwogIGNvbG9yOiAjZmZmOwogIC53ZWxjb21lewogICAgcGFkZGluZy1yaWdodDogNSU7CiAgICBmb250LXNpemU6IDMwcHg7CiAgICBmb250LWZhbWlseTogIuWNjuaWh+ihjOaltyI7CiAgfQp9Ci5lbC1mb3JtLWl0ZW1fX2xhYmVsewogIGNvbG9yOiNlNGVkZjghaW1wb3J0YW50Owp9Ci54eHh4ewogIGJhY2tncm91bmQtY29sb3I6ICMwYzE0MWY7Cn0KLmZyb20gewogIC8vYmFja2dyb3VuZC1jb2xvcjogI2Q5ZGFkYjsKICBiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50OwogIHBhZGRpbmc6IDIwcHggMzBweCAwcHggMHB4OwogIHdpZHRoOiAzNDBweDsKICBib3JkZXI6IDBweCBzb2xpZCByZ2IoMTU5LCAxOTAsIDIxMSk7CiAgYm9yZGVyLXJhZGl1czogNnB4OwogIHBvc2l0aW9uOiBmaXhlZDsKICB0b3A6IDE1JTsKICBsZWZ0OiA0NSU7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSk7CiAgLnRpdGxlIHsKICAgIGNvbG9yOiByZ2IoMjEzLCAyNTQsIDI0Mik7CiAgICBmb250LXNpemU6IDE4cHg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBwYWRkaW5nOiAwcHggMHB4IDIwcHggNDBweDsKICB9CgogIC5lbC1idXR0b24tLXByaW1hcnl7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjM1MTU4OwogICAgYm9yZGVyLWNvbG9yOiAjMDIwNTM2OwogICAgd2lkdGg6IDEwMHB4OwogIH0KICAvKi5zaGlzaGkgLmVsLWluKi8KICAuZWwtYnV0dG9uLS10ZXh0ewogICAgYmFja2dyb3VuZC1jb2xvcjogI2Q1ZmVmMjsKICAgIGJvcmRlci1jb2xvcjogI2E5ZDJlZTsKICAgIHdpZHRoOiAxMDBweDsKICB9CiAgLmJnIHsKICAgIHotaW5kZXg6IC0xOwogICAgcG9zaXRpb246IGZpeGVkOwogICAgdG9wOiAwOwogICAgbGVmdDogMDsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiAxMDAlOwogICAgLy8gc3BhbiB7CiAgICAvLyB9CiAgfQp9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"login_wrap\">\n    <br><br><br><br>\n    <div class=\"welcome\">欢迎来到大数据分析平台</div>\n    <div class=\"from\">\n      <h2 class=\"title\">登 录</h2>\n      <el-form class=\"xxxx\" ref=\"form\" :rules=\"rules\" size=\"small\" :model=\"form\" label-width=\"100px\">\n        <el-form-item label=\"账号\" prop=\"username\">\n          <el-input class=\"shishi\" v-model=\"form.username\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"password\">\n          <el-input show-password v-model=\"form.password\"></el-input>\n        </el-form-item>\n        <!-- <el-form-item label=\"验证码\" prop=\"verifycode\">\n          <el-input v-model=\"form.verifycode\"></el-input>\n          <el-image style=\"width: 140px; height: 34px\" :src=\"url\"></el-image>\n        </el-form-item> -->\n        <el-form-item label=\"验证码\" prop=\"verifycode\">\n          <el-input v-model=\"form.verifycode\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <div id=\"identifybox\">\n            <vue-img-verify @getImgCode=\"getImgCode\" ref=\"vueImgVerify\" />\n          </div>\n        </el-form-item>\n\n        <el-form-item>\n          <el-button\n            type=\"primary\"\n            size=\"small\"\n            @click=\"submitForm('form')\"\n            :loading=\"islogin\"\n          >{{islogin ? \"登录中\" : ' 登录 '}}</el-button>\n          <el-button type=\"text\" size=\"small\" @click=\"resetForm('form')\"> 重置 </el-button>\n        </el-form-item>\n      </el-form>\n      <div class=\"bg\">\n        <span></span>\n        <span></span>\n        <span></span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport vueImgVerify from '@/components/vue-img-verify'\nexport default {\n  data() {\n    const validateVerifycode = (rule, value, callback) => {\n      if (this.imgCode.toLowerCase() !== value.toLowerCase()) {\n        console.log('validateVerifycode:',value)\n        callback(new Error('请输入正确的验证码'))\n      } else {\n        callback()\n      }\n    }\n    return {\n      form: {\n        username: \"\",\n        password: \"\",\n        verifycode: ''\n      },\n      islogin: false,\n      rules: {\n        username: [\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" }\n        ],\n        password: [{ required: true, message: \"请输入密码\", trigger: \"blur\" }],\n          verifycode: [\n          { required: true, message: '请输入验证码', trigger: 'blur' },\n          // { validator: validateVerifycode, trigger: 'blur' }\n        ]\n      },\n      imgCode:''\n    };\n  },\n\n  methods: {\n    randomNum(min, max) {\n      return parseInt(Math.random() * (max - min) + min)\n    },\n    // refreshCode() {\n    //   this.identifyCode = ''\n    //   this.makeCode(this.identifyCodes, 4)\n    // },\n/*    makeCode(o, l) {\n      for (let i = 0; i < l; i++) {\n        this.getImgCode += this.identifyCodes[\n          this.randomNum(0, this.identifyCodes.length)\n        ]\n      }\n    },*/\n    submitForm(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n            // 校验验证码\n            if (this.imgCode.toLowerCase() !== this.form.verifycode.toLowerCase()) {\n                this.$message.error(\"验证码输入有误！\");\n                this.$refs.vueImgVerify.handleDraw()\n                return\n            }\n          this.login();\n        } else {\n          return false;\n        }\n      });\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n    async login() {\n      this.islogin = true;\n      const result = await this.$api.login(this.form);\n      this.islogin = false;\n      if (result && result.code == 0) {\n        //   登录成功\n        localStorage.setItem(\"login\", true);\n        localStorage.setItem(\"token\", result.data.token);\n        this.$router.push({ name: \"newhome\" });\n      } else {\n        this.$message.error(result.msg || \"请求错误\");\n      }\n    },\n    // 点击图片获取验证码\n    getImgCode(code) {\n      this.imgCode = code\n      console.log('验证码: ' + this.imgCode)\n    }\n\n  },\n  components:{\n    vueImgVerify\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.identifybox{\n  display: flex;\n  justify-content:space-between;\n  margin-top: 7px;\n}\n.login_wrap {\n  width: 100vw;\n  height: 100vh;\n  background-color: #6e7070fa;\n  background-image: url(../assets/bg1.png);// 此处为登录页面背景图\n  background-size: cover;\n  background-repeat: no-repeat;\n  color: #fff;\n  .welcome{\n    padding-right: 5%;\n    font-size: 30px;\n    font-family: \"华文行楷\";\n  }\n}\n.el-form-item__label{\n  color:#e4edf8!important;\n}\n.xxxx{\n  background-color: #0c141f;\n}\n.from {\n  //background-color: #d9dadb;\n  background-color:transparent;\n  padding: 20px 30px 0px 0px;\n  width: 340px;\n  border: 0px solid rgb(159, 190, 211);\n  border-radius: 6px;\n  position: fixed;\n  top: 15%;\n  left: 45%;\n  transform: translate(-50%);\n  .title {\n    color: rgb(213, 254, 242);\n    font-size: 18px;\n    text-align: center;\n    padding: 0px 0px 20px 40px;\n  }\n\n  .el-button--primary{\n    background-color: #235158;\n    border-color: #020536;\n    width: 100px;\n  }\n  /*.shishi .el-in*/\n  .el-button--text{\n    background-color: #d5fef2;\n    border-color: #a9d2ee;\n    width: 100px;\n  }\n  .bg {\n    z-index: -1;\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    // span {\n    // }\n  }\n}\n</style>\n"]}]}