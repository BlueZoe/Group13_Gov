{"remainingRequest":"E:\\Government\\client2.0\\client\\node_modules\\babel-loader\\lib\\index.js!E:\\Government\\client2.0\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\Government\\client2.0\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Government\\client2.0\\client\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Government\\client2.0\\client\\src\\views\\Login.vue","mtime":1575539273614},{"path":"E:\\Government\\client2.0\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Government\\client2.0\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\Government\\client2.0\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\Government\\client2.0\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucGFyc2UtaW50IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRTpcXEdvdmVybm1lbnRcXGNsaWVudDIuMFxcY2xpZW50XFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS1jb3JlanMzL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgdnVlSW1nVmVyaWZ5IGZyb20gJ0AvY29tcG9uZW50cy92dWUtaW1nLXZlcmlmeSc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICB2YXIgdmFsaWRhdGVWZXJpZnljb2RlID0gZnVuY3Rpb24gdmFsaWRhdGVWZXJpZnljb2RlKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAoX3RoaXMuaW1nQ29kZS50b0xvd2VyQ2FzZSgpICE9PSB2YWx1ZS50b0xvd2VyQ2FzZSgpKSB7CiAgICAgICAgY29uc29sZS5sb2coJ3ZhbGlkYXRlVmVyaWZ5Y29kZTonLCB2YWx1ZSk7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7fovpPlhaXmraPnoa7nmoTpqozor4HnoIEnKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gewogICAgICBmb3JtOiB7CiAgICAgICAgdXNlcm5hbWU6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgICB2ZXJpZnljb2RlOiAnJwogICAgICB9LAogICAgICBpc2xvZ2luOiBmYWxzZSwKICAgICAgcnVsZXM6IHsKICAgICAgICB1c2VybmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeeUqOaIt+WQjSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBwYXNzd29yZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeWvhueggSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICB2ZXJpZnljb2RlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl6aqM6K+B56CBJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH0gLy8geyB2YWxpZGF0b3I6IHZhbGlkYXRlVmVyaWZ5Y29kZSwgdHJpZ2dlcjogJ2JsdXInIH0KICAgICAgICBdCiAgICAgIH0sCiAgICAgIGltZ0NvZGU6ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgcmFuZG9tTnVtOiBmdW5jdGlvbiByYW5kb21OdW0obWluLCBtYXgpIHsKICAgICAgcmV0dXJuIHBhcnNlSW50KE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbik7CiAgICB9LAogICAgLy8gcmVmcmVzaENvZGUoKSB7CiAgICAvLyAgIHRoaXMuaWRlbnRpZnlDb2RlID0gJycKICAgIC8vICAgdGhpcy5tYWtlQ29kZSh0aGlzLmlkZW50aWZ5Q29kZXMsIDQpCiAgICAvLyB9LAoKICAgIC8qICAgIG1ha2VDb2RlKG8sIGwpIHsKICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgICAgIHRoaXMuZ2V0SW1nQ29kZSArPSB0aGlzLmlkZW50aWZ5Q29kZXNbCiAgICAgICAgICAgICAgdGhpcy5yYW5kb21OdW0oMCwgdGhpcy5pZGVudGlmeUNvZGVzLmxlbmd0aCkKICAgICAgICAgICAgXQogICAgICAgICAgfQogICAgICAgIH0sKi8KICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oZm9ybU5hbWUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIC8vIOagoemqjOmqjOivgeeggQogICAgICAgICAgaWYgKF90aGlzMi5pbWdDb2RlLnRvTG93ZXJDYXNlKCkgIT09IF90aGlzMi5mb3JtLnZlcmlmeWNvZGUudG9Mb3dlckNhc2UoKSkgewogICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UuZXJyb3IoIumqjOivgeeggei+k+WFpeacieivr++8gSIpOwoKICAgICAgICAgICAgX3RoaXMyLiRyZWZzLnZ1ZUltZ1ZlcmlmeS5oYW5kbGVEcmF3KCk7CgogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMyLmxvZ2luKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJlc2V0Rm9ybTogZnVuY3Rpb24gcmVzZXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnJlc2V0RmllbGRzKCk7CiAgICB9LAogICAgbG9naW46IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9sb2dpbiA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aGlzLmlzbG9naW4gPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kYXBpLmxvZ2luKHRoaXMuZm9ybSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICB0aGlzLmlzbG9naW4gPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5jb2RlID09IDApIHsKICAgICAgICAgICAgICAgICAgLy8gICDnmbvlvZXmiJDlip8KICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImxvZ2luIiwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsIHJlc3VsdC5kYXRhLnRva2VuKTsKICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5hbWU6ICJuZXdob21lIgogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzdWx0Lm1zZyB8fCAi6K+35rGC6ZSZ6K+vIik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgICByZXR1cm4gX2xvZ2luLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBsb2dpbjsKICAgIH0oKSwKICAgIC8vIOeCueWHu+WbvueJh+iOt+WPlumqjOivgeeggQogICAgZ2V0SW1nQ29kZTogZnVuY3Rpb24gZ2V0SW1nQ29kZShjb2RlKSB7CiAgICAgIHRoaXMuaW1nQ29kZSA9IGNvZGU7CiAgICAgIGNvbnNvbGUubG9nKCfpqozor4HnoIE6ICcgKyB0aGlzLmltZ0NvZGUpOwogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgdnVlSW1nVmVyaWZ5OiB2dWVJbWdWZXJpZnkKICB9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"login_wrap\">\n    <div class=\"welcome\">欢迎登录坪山区大数据分析平台</div>\n    <div class=\"from\">\n      <h2 class=\"title\"></h2>\n      <el-form class=\"xxxx\" ref=\"form\" :rules=\"rules\" size=\"small\" :model=\"form\" label-width=\"100px\">\n        <el-form-item label=\"账号\" prop=\"username\">\n          <el-input class=\"shishi\" v-model=\"form.username\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"password\">\n          <el-input show-password v-model=\"form.password\"></el-input>\n        </el-form-item>\n        <!-- <el-form-item label=\"验证码\" prop=\"verifycode\">\n          <el-input v-model=\"form.verifycode\"></el-input>\n          <el-image style=\"width: 140px; height: 34px\" :src=\"url\"></el-image>\n        </el-form-item> -->\n        <el-form-item label=\"验证码\" prop=\"verifycode\">\n          <el-input v-model=\"form.verifycode\"></el-input>\n        </el-form-item>\n        <el-form-item>\n          <div id=\"identifybox\">\n            <vue-img-verify @getImgCode=\"getImgCode\" ref=\"vueImgVerify\" />\n          </div>\n        </el-form-item>\n\n        <el-form-item>\n          <el-button\n            type=\"primary\"\n            size=\"small\"\n            @click=\"submitForm('form')\"\n            :loading=\"islogin\"\n          >{{islogin ? \"登录中\" : ' 登录 '}}</el-button>\n          <el-button type=\"primary\" size=\"small\" @click=\"resetForm('form')\"> 重置 </el-button>\n        </el-form-item>\n      </el-form>\n      <div class=\"bg\">\n        <span></span>\n        <span></span>\n        <span></span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport vueImgVerify from '@/components/vue-img-verify'\nexport default {\n  data() {\n    const validateVerifycode = (rule, value, callback) => {\n      if (this.imgCode.toLowerCase() !== value.toLowerCase()) {\n        console.log('validateVerifycode:',value)\n        callback(new Error('请输入正确的验证码'))\n      } else {\n        callback()\n      }\n    }\n    return {\n      form: {\n        username: \"\",\n        password: \"\",\n        verifycode: ''\n      },\n      islogin: false,\n      rules: {\n        username: [\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" }\n        ],\n        password: [{ required: true, message: \"请输入密码\", trigger: \"blur\" }],\n          verifycode: [\n          { required: true, message: '请输入验证码', trigger: 'blur' },\n          // { validator: validateVerifycode, trigger: 'blur' }\n        ]\n      },\n      imgCode:''\n    };\n  },\n\n  methods: {\n    randomNum(min, max) {\n      return parseInt(Math.random() * (max - min) + min)\n    },\n    // refreshCode() {\n    //   this.identifyCode = ''\n    //   this.makeCode(this.identifyCodes, 4)\n    // },\n/*    makeCode(o, l) {\n      for (let i = 0; i < l; i++) {\n        this.getImgCode += this.identifyCodes[\n          this.randomNum(0, this.identifyCodes.length)\n        ]\n      }\n    },*/\n    submitForm(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n            // 校验验证码\n            if (this.imgCode.toLowerCase() !== this.form.verifycode.toLowerCase()) {\n                this.$message.error(\"验证码输入有误！\");\n                this.$refs.vueImgVerify.handleDraw()\n                return\n            }\n          this.login();\n        } else {\n          return false;\n        }\n      });\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n    async login() {\n      this.islogin = true;\n      const result = await this.$api.login(this.form);\n      this.islogin = false;\n      if (result && result.code == 0) {\n        //   登录成功\n        localStorage.setItem(\"login\", true);\n        localStorage.setItem(\"token\", result.data.token);\n        this.$router.push({ name: \"newhome\" });\n      } else {\n        this.$message.error(result.msg || \"请求错误\");\n      }\n    },\n    // 点击图片获取验证码\n    getImgCode(code) {\n      this.imgCode = code\n      console.log('验证码: ' + this.imgCode)\n    }\n\n  },\n  components:{\n    vueImgVerify\n  }\n}\n</script>\n\n<style lang=\"scss\" >\n\n.identifybox{\n  display: flex;\n  justify-content:space-between;\n  margin-top: 7px;\n}\n.login_wrap {\n  width: 100vw;\n  height: 100vh;\n  background-color: #6e7070fa;\n  background-image: url(../assets/bg1.png);// 此处为登录页面背景图\n  background-size: cover;\n  background-repeat: no-repeat;\n  color: #fff;\n  .welcome{\n    padding-top: 4%;\n    padding-right: 5%;\n    font-size: 30px;\n    font-family: \"华文行楷\";\n  }\n}\n.el-form-item__label{\n  color:#e4edf8!important;\n}\n.xxxx .el-form-item__label {\n    color: #e4edf8;\n}\n.from {\n  //background-color: #d9dadb;\n  background-color:transparent;\n  padding: 20px 30px 0px 0px;\n  width: 340px;\n  border: 0px solid rgb(159, 190, 211);\n  border-radius: 6px;\n  position: fixed;\n  top: 15%;\n  left: 45%;\n  transform: translate(-50%);\n  .title {\n    color: rgb(213, 254, 242);\n    font-size: 18px;\n    text-align: center;\n    padding: 0px 0px 20px 40px;\n  }\n\n  .el-button--primary{\n    background-color: #235158;\n    border-color: #020536;\n    width: 80px;\n  }\n  /*.shishi .el-in*/\n  .el-button--text{\n    background-color: #89d6c8;\n    border-color: #89d6c8;\n    width: 80px;\n  }\n  .bg {\n    z-index: -1;\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    // span {\n    // }\n  }\n}\n</style>\n"],"sourceRoot":"src/views"}]}